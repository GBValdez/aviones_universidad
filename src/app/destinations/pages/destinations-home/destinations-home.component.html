<mat-dialog-content>
  <mat-card>
    <mat-card-header>
      <mat-card-title>Destinos y entradas autorizadas</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <form [formGroup]="form" (ngSubmit)="addItem()">
        <mat-form-field class="w-full">
          <mat-select formControlName="aeropuertoId">
            @for (item of aeropuertos; track $index) {
            <mat-option [value]="item.id"
              >{{ item.nombre }} | {{ item.pais.nombre }}</mat-option
            >
            }
          </mat-select>
        </mat-form-field>
        <div class="w-full flex justify-between flex-wrap">
          <mat-radio-group [value]="true" formControlName="isDestino">
            <mat-radio-button [value]="true">Destino</mat-radio-button>
            <mat-radio-button [value]="false">Origen</mat-radio-button>
          </mat-radio-group>
          <button
            type="submit"
            [disabled]="form.invalid"
            mat-raised-button
            class="ml-2"
          >
            <mat-icon>add</mat-icon>
            <span>Agregar</span>
          </button>
        </div>
        @if(form.hasError('aeropuertoInDestinations')){
        <p class="text-red-500">El destino ya existe</p>
        } @if(form.hasError('aeropuertoInOrigins')){
        <p class="text-red-500">El origen ya existe</p>
        }
      </form>
    </mat-card-content>
  </mat-card>
  <mat-card>
    <mat-card-header>
      <mat-card-title>Destinos Autorizados</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <section>
        @if(destinations.length==0) {
        <p class="text-center">No hay destinos autorizadas</p>
        } @for (item of destinations; track $index) {
        <mat-card class="mt-3">
          <mat-card-header>
            <mat-card-title>
              <div class="w-full flex justify-between flex-wrap items-center">
                <h2>
                  {{ item.aeropuerto.nombre }} |
                  {{ item.aeropuerto.pais.nombre }}
                </h2>
                <button
                  mat-icon-button
                  (click)="deleteItem(item)"
                  matTooltip="Eliminar"
                >
                  <mat-icon>delete</mat-icon>
                </button>
              </div>
            </mat-card-title>
          </mat-card-header>
        </mat-card>
        }
      </section>
    </mat-card-content>
  </mat-card>
  <mat-card class="mt-3">
    <mat-card-header>
      <mat-card-title>Entradas Autorizados</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <section>
        @if(origins.length==0) {
        <p class="text-center">No hay entradas autorizadas</p>
        } @for (item of origins; track $index) {
        <mat-card>
          <mat-card-header>
            <mat-card-title>
              <div class="w-full flex justify-between flex-wrap">
                <h2>
                  {{ item.aeropuerto.nombre }} |
                  {{ item.aeropuerto.pais.nombre }}
                </h2>
                <button
                  mat-icon-button
                  (click)="deleteItem(item)"
                  matTooltip="Eliminar"
                >
                  <mat-icon>delete</mat-icon>
                </button>
              </div>
            </mat-card-title>
          </mat-card-header>
        </mat-card>
        }
      </section>
    </mat-card-content>
  </mat-card>
  <button
    mat-raised-button
    class="mt-3"
    type="button"
    mat-dialog-close
    color="warn"
  >
    Cerrar
  </button>
</mat-dialog-content>
